import{d as B,Y as E,s as $,k as Y,a5 as K,L as N,l as z,o as n,a as i,b as m,t as y,j as t,F as v,i as P,a6 as T,c as C,w as d,e as w,g as p,a0 as U,C as q,Z as F,T as L,a7 as R,W as V,a3 as W,a4 as D,a2 as H}from"./app-7903b421.js";import{_ as M}from"./YunCard.vue_vue_type_style_index_0_lang-57b07a0d.js";import{_ as O}from"./YunPostCollapse.vue_vue_type_style_index_0_lang-0b72ef47.js";import{_ as Z}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-726df739.js";const A={class:"category-list-item inline-flex items-center cursor-pointer"},G={key:0,"i-ri-folder-add-line":""},J={key:1,style:{color:"var(--va-c-primary)"},"i-ri-folder-reduce-line":""},Q={key:0},X=m("div",{"i-ri-file-text-line":""},null,-1),I={m:"l-1",font:"serif black"},ee=B({__name:"YunCategory",props:{parentKey:null,category:null,level:null,collapsable:{type:Boolean,default:!0}},setup(o){const u=E(),c=$(!0),{t:_}=Y(),{locale:g}=Y();function a(l){const e=g.value==="zh-CN"?"zh":g.value;return l[`title_${e}`]?l[`title_${e}`]:l.title}const r=$(),{show:k}=K(r);function h(l){u.push({query:{category:l}}),k()}return N(()=>{const l=document.querySelector(".post-collapse-container");l&&(r.value=l)}),(l,e)=>{const f=z("YunCategory",!0),x=z("router-link");return n(),i(v,null,[m("li",A,[m("span",{class:"folder-action inline-flex",onClick:e[0]||(e[0]=s=>c.value=!c.value)},[c.value?(n(),i("div",G)):(n(),i("div",J))]),m("span",{class:"category-name",m:"l-1",onClick:e[1]||(e[1]=s=>h(o.parentKey))},y(o.category.name==="Uncategorized"?t(_)("category.uncategorized"):o.category.name)+" ["+y(o.category.total)+"] ",1)]),c.value?w("v-if",!0):(n(),i("ul",Q,[(n(!0),i(v,null,P(o.category.children,(s,b)=>(n(),i("li",{key:b,class:"post-list-item",m:"l-4"},[t(T)(s)?(n(),C(f,{key:0,"parent-key":o.parentKey?`${o.parentKey}/${s.name}`:s.name,category:s},null,8,["parent-key","category"])):(n(),i(v,{key:1},[s.title?(n(),C(x,{key:0,to:s.path||"",class:"inline-flex items-center"},{default:d(()=>[X,m("span",I,y(a(s)),1)]),_:2},1032,["to"])):w("v-if",!0)],64))]))),128))]))],64)}}}),te=B({__name:"YunCategories",props:{categories:null,level:{default:0},collapsable:{type:Boolean,default:!0}},setup(o){const c=$(o.collapsable);return(_,g)=>{const a=ee;return n(!0),i(v,null,P(o.categories,r=>(n(),i("ul",{key:r.name,class:"category-list",m:"l-4"},[p(a,{"parent-key":r.name,category:r,level:o.level+1,collapsable:c.value},null,8,["parent-key","category","level","collapsable"])]))),128)}}});const ne={text:"center",class:"yun-text-light",p:"2"},re=B({__name:"categories",setup(o){const{t:u}=Y(),c=U(),_=q(),g=F(),a=L(()=>g.query.category||""),r=R(),k=L(()=>c.postList.filter(e=>e.categories&&a.value!=="Uncategorized"?typeof e.categories=="string"?e.categories===a.value:e.categories.join("/").startsWith(a.value)&&e.categories[0]===a.value.split("/")[0]:!e.categories&&a.value==="Uncategorized"?e.categories===void 0:!1)),h=V(_);return W([D({"@type":"CollectionPage"})]),(l,e)=>{const f=Z,x=te,s=z("router-view"),b=O,S=M,j=H;return n(),C(j,null,{"main-header":d(()=>[p(f,{title:t(h)||t(u)("menu.categories"),icon:t(_).icon||"i-ri-folder-2-line",color:t(_).color},null,8,["title","icon","color"])]),"main-content":d(()=>[m("div",ne,y(t(u)("counter.categories",t(r).children.length)),1),p(x,{categories:t(r).children},null,8,["categories"]),p(s)]),"main-nav-before":d(()=>[t(a)?(n(),C(S,{key:0,class:"post-collapse-container",m:"t-4",w:"full"},{default:d(()=>[p(f,{title:t(a)==="Uncategorized"?t(u)("category.uncategorized"):t(a).split("/").join(" / "),icon:"i-ri-folder-open-line"},null,8,["title"]),p(b,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:t(k)},null,8,["posts"])]),_:1})):w("v-if",!0)]),_:1})}}});export{re as default};
